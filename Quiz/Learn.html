<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIFA Aircraft Rec</title>
    <link rel="stylesheet" href="../cleancss.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../CSS/learn.css">
</head>
<body>
    <main>
        <!-- #Replace with DB-inserted aircraft -->
        <img src="../img/Aircraft/" alt="">
        <h2>Information about the aircraft:</h2>
        <ul>
            <li><p></p></li>
            <li><p></p></li>
            <li><p></p></li>
        </ul>
        <div class="dual">
            <!-- #Insert new aircraft, sequentially -->
            <div class="left" id="prev"><p>Previous</p></div>
            <div class="right" id="next"><p>Next</p></div>
        </div>
    </main>
    <script src="../script.js"></script>
    <script>
        // Function to shuffle an array (Fisher-Yates shuffle)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
            return array;
        }

        // Function to fetch and display a new page content
        let currentPageIndex = 0; // Keep track of the current page index
        const totalPages = 10; // Total number of pages available

        function fetchAndDisplayPage(pageIndex) {
            fetch(`http://127.0.0.1:1337/page/${pageIndex}`) // Adjust the fetch URL as necessary
                .then(response => response.json())
                .then(pageData => {
                    // Update the page content
                    document.querySelector('main').innerHTML = pageData.content;

                    // Update the current page index
                    currentPageIndex = pageIndex;
                })
                .catch(error => console.error('Error fetching page data:', error));
        }

        // Function to navigate to the next page
        function nextPage() {
            if (currentPageIndex < totalPages - 1) {
                fetchAndDisplayPage(currentPageIndex + 1);
            }
        }

        // Function to navigate to the previous page
        function previousPage() {
            if (currentPageIndex > 0) {
                fetchAndDisplayPage(currentPageIndex - 1);
            }
        }

        // Event listeners for the "Next" and "Previous" buttons
        document.getElementById('next').addEventListener('click', nextPage);
        document.getElementById('previous').addEventListener('click', previousPage);

        // Initial call to load the first page
        fetchAndDisplayPage(currentPageIndex);
    </script>
</body>
</html>